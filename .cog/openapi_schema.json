{"components":{"schemas":{"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"title":"Detail","type":"array"}},"title":"HTTPValidationError","type":"object"},"Input":{"properties":{"aspect_ratio":{"allOf":[{"$ref":"#/components/schemas/aspect_ratio"}],"default":"1:1","description":"Aspect ratio for the generated image. The size will always be 1 megapixel, i.e. 1024x1024 if aspect ratio is 1:1. To use arbitrary width and height, set aspect ratio to 'custom'.","x-order":1},"disable_safety_checker":{"default":false,"description":"Disable safety checker for generated images.","title":"Disable Safety Checker","type":"boolean","x-order":13},"guidance_scale":{"default":3.5,"description":"Guidance scale for the diffusion process","maximum":10,"minimum":0,"title":"Guidance Scale","type":"number","x-order":8},"height":{"description":"Height of the generated image. Optional, only used when aspect_ratio=custom. Must be a multiple of 16 (if it's not, it will be rounded to nearest multiple of 16)","maximum":1440,"minimum":256,"title":"Height","type":"integer","x-order":3},"lora_scale":{"default":1,"description":"Determines how strongly the LoRA should be applied. Sane results between 0 and 1.","maximum":2,"minimum":-1,"title":"Lora Scale","type":"number","x-order":5},"model":{"allOf":[{"$ref":"#/components/schemas/model"}],"default":"dev","description":"Which model to run inferences with. The dev model needs around 28 steps but the schnell model only needs around 4 steps.","x-order":7},"num_inference_steps":{"default":28,"description":"Number of inference steps","maximum":50,"minimum":1,"title":"Num Inference Steps","type":"integer","x-order":6},"num_outputs":{"default":1,"description":"Number of images to output.","maximum":4,"minimum":1,"title":"Num Outputs","type":"integer","x-order":4},"output_format":{"allOf":[{"$ref":"#/components/schemas/output_format"}],"default":"webp","description":"Format of the output images","x-order":10},"output_quality":{"default":80,"description":"Quality when saving the output images, from 0 to 100. 100 is best quality, 0 is lowest quality. Not relevant for .png outputs","maximum":100,"minimum":0,"title":"Output Quality","type":"integer","x-order":11},"prompt":{"description":"Prompt for generated image","title":"Prompt","type":"string","x-order":0},"replicate_weights":{"description":"Replicate LoRA weights to use. Leave blank to use the default weights.","title":"Replicate Weights","type":"string","x-order":12},"seed":{"description":"Random seed. Set for reproducible generation","title":"Seed","type":"integer","x-order":9},"width":{"description":"Width of the generated image. Optional, only used when aspect_ratio=custom. Must be a multiple of 16 (if it's not, it will be rounded to nearest multiple of 16)","maximum":1440,"minimum":256,"title":"Width","type":"integer","x-order":2}},"required":["prompt"],"title":"Input","type":"object"},"Output":{"items":{"format":"uri","type":"string"},"title":"Output","type":"array"},"PredictionRequest":{"properties":{"created_at":{"format":"date-time","title":"Created At","type":"string"},"id":{"title":"Id","type":"string"},"input":{"$ref":"#/components/schemas/Input"},"output_file_prefix":{"title":"Output File Prefix","type":"string"},"webhook":{"format":"uri","maxLength":65536,"minLength":1,"title":"Webhook","type":"string"},"webhook_events_filter":{"default":["start","output","logs","completed"],"items":{"$ref":"#/components/schemas/WebhookEvent"},"type":"array"}},"title":"PredictionRequest","type":"object"},"PredictionResponse":{"properties":{"completed_at":{"format":"date-time","title":"Completed At","type":"string"},"created_at":{"format":"date-time","title":"Created At","type":"string"},"error":{"title":"Error","type":"string"},"id":{"title":"Id","type":"string"},"input":{"$ref":"#/components/schemas/Input"},"logs":{"default":"","title":"Logs","type":"string"},"metrics":{"title":"Metrics","type":"object"},"output":{"$ref":"#/components/schemas/Output"},"started_at":{"format":"date-time","title":"Started At","type":"string"},"status":{"$ref":"#/components/schemas/Status"},"version":{"title":"Version","type":"string"}},"title":"PredictionResponse","type":"object"},"Status":{"description":"An enumeration.","enum":["starting","processing","succeeded","canceled","failed"],"title":"Status","type":"string"},"TrainingInput":{"properties":{"autocaption":{"default":true,"description":"Automatically caption images using Llava v1.5 13B","title":"Autocaption","type":"boolean","x-order":2},"autocaption_prefix":{"description":"Optional: Text you want to appear at the beginning of all your generated captions; for example, ‘a photo of TOK, ’. You can include your trigger word in the prefix. Prefixes help set the right context for your captions, and the captioner will use this prefix as context.","title":"Autocaption Prefix","type":"string","x-order":3},"autocaption_suffix":{"description":"Optional: Text you want to appear at the end of all your generated captions; for example, ‘ in the style of TOK’. You can include your trigger word in suffixes. Suffixes help set the right concept for your captions, and the captioner will use this suffix as context.","title":"Autocaption Suffix","type":"string","x-order":4},"batch_size":{"default":1,"description":"Batch size, you can leave this as 1","title":"Batch Size","type":"integer","x-order":7},"hf_repo_id":{"description":"Hugging Face repository ID, if you'd like to upload the trained LoRA to Hugging Face. For example, lucataco/flux-dev-lora.","title":"Hf Repo Id","type":"string","x-order":9},"hf_token":{"description":"Hugging Face token, if you'd like to upload the trained LoRA to Hugging Face.","format":"password","title":"Hf Token","type":"string","x-cog-secret":true,"x-order":10},"input_images":{"description":"A zip file containing the images that will be used for training. We recommend a minimum of 10 images. If you include captions, include them as one .txt file per image, e.g. my-photo.jpg should have a caption file named my-photo.txt. If you don't include captions, you can use autocaptioning (enabled by default).","format":"uri","title":"Input Images","type":"string","x-order":0},"learning_rate":{"default":0.0004,"description":"Learning rate, if you’re new to training you probably don’t need to change this.","title":"Learning Rate","type":"number","x-order":6},"lora_rank":{"default":16,"description":"Supports 16, 32, 64, 128. Higher ranks take longer to train but can capture more complex features. Caption quality is more important for higher ranks.","title":"Lora Rank","type":"integer","x-order":8},"skip_training_and_use_pretrained_hf_lora_url":{"description":"If you’d like to skip LoRA training altogether and instead create a Replicate model from a pre-trained LoRA that’s on HuggingFace, use this field with a HuggingFace download URL. For example, https://huggingface.co/fofr/flux-80s-cyberpunk/resolve/main/lora.safetensors.","title":"Skip Training And Use Pretrained Hf Lora Url","type":"string","x-order":11},"steps":{"default":1000,"description":"Number of training steps. Recommended range 500-4000","maximum":6000,"minimum":10,"title":"Steps","type":"integer","x-order":5},"trigger_word":{"default":"TOK","description":"The trigger word refers to the object, style or concept you are training on. Pick a string that isn’t a real word, like TOK or something related to what’s being trained, like CYBRPNK. The trigger word you specify here will be associated with all images during training. Then when you use your LoRA, you can include the trigger word in prompts to help activate the LoRA.","title":"Trigger Word","type":"string","x-order":1}},"title":"TrainingInput","type":"object"},"TrainingOutput":{"properties":{"weights":{"format":"uri","title":"Weights","type":"string"}},"required":["weights"],"title":"TrainingOutput","type":"object"},"TrainingRequest":{"properties":{"created_at":{"format":"date-time","title":"Created At","type":"string"},"id":{"title":"Id","type":"string"},"input":{"$ref":"#/components/schemas/TrainingInput"},"output_file_prefix":{"title":"Output File Prefix","type":"string"},"webhook":{"format":"uri","maxLength":65536,"minLength":1,"title":"Webhook","type":"string"},"webhook_events_filter":{"default":["start","output","logs","completed"],"items":{"$ref":"#/components/schemas/WebhookEvent"},"type":"array"}},"title":"TrainingRequest","type":"object"},"TrainingResponse":{"properties":{"completed_at":{"format":"date-time","title":"Completed At","type":"string"},"created_at":{"format":"date-time","title":"Created At","type":"string"},"error":{"title":"Error","type":"string"},"id":{"title":"Id","type":"string"},"input":{"$ref":"#/components/schemas/TrainingInput"},"logs":{"default":"","title":"Logs","type":"string"},"metrics":{"title":"Metrics","type":"object"},"output":{"$ref":"#/components/schemas/TrainingOutput"},"started_at":{"format":"date-time","title":"Started At","type":"string"},"status":{"$ref":"#/components/schemas/Status"},"version":{"title":"Version","type":"string"}},"title":"TrainingResponse","type":"object"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"title":"Location","type":"array"},"msg":{"title":"Message","type":"string"},"type":{"title":"Error Type","type":"string"}},"required":["loc","msg","type"],"title":"ValidationError","type":"object"},"WebhookEvent":{"description":"An enumeration.","enum":["start","output","logs","completed"],"title":"WebhookEvent","type":"string"},"aspect_ratio":{"description":"An enumeration.","enum":["1:1","16:9","21:9","3:2","2:3","4:5","5:4","3:4","4:3","9:16","9:21","custom"],"title":"aspect_ratio","type":"string"},"model":{"description":"An enumeration.","enum":["dev","schnell"],"title":"model","type":"string"},"output_format":{"description":"An enumeration.","enum":["webp","jpg","png"],"title":"output_format","type":"string"}}},"info":{"title":"Cog","version":"0.1.0"},"openapi":"3.0.2","paths":{"/":{"get":{"operationId":"root__get","responses":{"200":{"content":{"application/json":{"schema":{"title":"Response Root  Get"}}},"description":"Successful Response"}},"summary":"Root"}},"/health-check":{"get":{"operationId":"healthcheck_health_check_get","responses":{"200":{"content":{"application/json":{"schema":{"title":"Response Healthcheck Health Check Get"}}},"description":"Successful Response"}},"summary":"Healthcheck"}},"/predictions":{"post":{"description":"Run a single prediction on the model","operationId":"predict_predictions_post","parameters":[{"in":"header","name":"prefer","required":false,"schema":{"title":"Prefer","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PredictionRequest"}}}},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PredictionResponse"}}},"description":"Successful Response"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}},"description":"Validation Error"}},"summary":"Predict"}},"/predictions/{prediction_id}":{"put":{"description":"Run a single prediction on the model (idempotent creation).","operationId":"predict_idempotent_predictions__prediction_id__put","parameters":[{"in":"path","name":"prediction_id","required":true,"schema":{"title":"Prediction ID","type":"string"}},{"in":"header","name":"prefer","required":false,"schema":{"title":"Prefer","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/PredictionRequest"}],"title":"Prediction Request"}}},"required":true},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PredictionResponse"}}},"description":"Successful Response"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}},"description":"Validation Error"}},"summary":"Predict Idempotent"}},"/predictions/{prediction_id}/cancel":{"post":{"description":"Cancel a running prediction","operationId":"cancel_predictions__prediction_id__cancel_post","parameters":[{"in":"path","name":"prediction_id","required":true,"schema":{"title":"Prediction ID","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"title":"Response Cancel Predictions  Prediction Id  Cancel Post"}}},"description":"Successful Response"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}},"description":"Validation Error"}},"summary":"Cancel"}},"/shutdown":{"post":{"operationId":"start_shutdown_shutdown_post","responses":{"200":{"content":{"application/json":{"schema":{"title":"Response Start Shutdown Shutdown Post"}}},"description":"Successful Response"}},"summary":"Start Shutdown"}},"/trainings":{"post":{"operationId":"train_trainings_post","parameters":[{"in":"header","name":"prefer","required":false,"schema":{"title":"Prefer","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TrainingRequest"}}}},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TrainingResponse"}}},"description":"Successful Response"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}},"description":"Validation Error"}},"summary":"Train"}},"/trainings/{training_id}":{"put":{"operationId":"train_idempotent_trainings__training_id__put","parameters":[{"in":"path","name":"training_id","required":true,"schema":{"title":"Training ID","type":"string"}},{"in":"header","name":"prefer","required":false,"schema":{"title":"Prefer","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/TrainingRequest"}],"title":"Training Request"}}},"required":true},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PredictionResponse"}}},"description":"Successful Response"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}},"description":"Validation Error"}},"summary":"Train Idempotent"}},"/trainings/{training_id}/cancel":{"post":{"operationId":"cancel_training_trainings__training_id__cancel_post","parameters":[{"in":"path","name":"training_id","required":true,"schema":{"title":"Training ID","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"title":"Response Cancel Training Trainings  Training Id  Cancel Post"}}},"description":"Successful Response"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}},"description":"Validation Error"}},"summary":"Cancel Training"}}}}